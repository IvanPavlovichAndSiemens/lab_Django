{% extends "base.html" %}
{% load static %}
{% block content %}

<div class="row">
    <!-- Блок категорій -->
    <div class="col-md-4">
        <h3>Категорії</h3>
        {% if categories %}
        <div class="list-group">
            {% for category in categories %}
            <a href="{{ category.get_absolute_url }}" class="list-group-item list-group-item-action">
                {{ category.category }}
                <small class="text-muted">({{ category.articles.count }} публікацій)</small>
            </a>
            {% endfor %}
        </div>
        {% endif %}
    </div>

    <!-- Блок останніх публікацій -->
    <div class="col-md-8">
        <h3>Останні публікації</h3>
        {% if articles %}
        {% for item in articles %}
        <div class="card mb-3">
            <div class="card-body">
                <h5 class="card-title">
                    <a href="{{ item.get_absolute_url }}">{{ item.title }}</a>
                </h5>
                <h6 class="card-subtitle mb-2 text-muted">
                    {{ item.pub_date|date:"j E Y" }}
                    {% if item.category %}
                    <span class="badge badge-primary">{{ item.category.category }}</span>
                    {% endif %}
                </h6>
                <p class="card-text">{{ item.description|safe|escape|striptags|truncatewords_html:50 }}</p>
                <a href="{{ item.get_absolute_url }}" class="btn btn-sm btn-outline-primary">Читати далі</a>
            </div>
        </div>
        {% endfor %}
        {% endif %}

        <a href="{% url 'articles-list' %}" class="btn btn-primary">Всі публікації</a>
    </div>
</div>

{% endblock %}